<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI 손금 분석 - 사진을 올리면 생명선, 감정선, 두뇌선, 운명선을 분석합니다. 무료 손금 풀이, 손금 보는법, 손금 해석을 제공하는 프리미엄 서비스.">
    <meta name="keywords" content="손금, 손금분석, 손금풀이, 손금보는법, 손금해석, 생명선, 감정선, 두뇌선, 운명선, AI손금, 무료손금, 손금사진, 손바닥">
    <title>AI 손금 분석 | 사진으로 보는 내 손금 - 사주명리</title>
    <link rel="canonical" href="https://saju.gon.ai.kr/palm/">

    <!-- Naver Search Advisor -->
    <meta name="naver-site-verification" content="0e1c05903546c204ebb9e52263162fe36a32fb28" />

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="AI 손금 분석 | 사진으로 보는 내 손금">
    <meta property="og:description" content="손바닥 사진을 올리면 AI가 4대 손금선을 분석합니다. 생명선, 감정선, 두뇌선, 운명선 무료 분석.">
    <meta property="og:url" content="https://saju.gon.ai.kr/palm/">
    <meta property="og:image" content="https://saju.gon.ai.kr/assets/images/og-image.jpg">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="사주명리">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AI 손금 분석 | 사진으로 보는 내 손금">
    <meta name="twitter:description" content="손바닥 사진을 올리면 AI가 4대 손금선을 분석합니다.">

    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-7479840445702290">

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "AI 손금 분석",
        "description": "사진을 올리면 AI가 4대 손금선(생명선, 감정선, 두뇌선, 운명선)을 분석합니다",
        "url": "https://saju.gon.ai.kr/palm/",
        "applicationCategory": "Entertainment",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        },
        "isPartOf": {
            "@type": "WebSite",
            "name": "사주명리",
            "url": "https://saju.gon.ai.kr/"
        },
        "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
                { "@type": "ListItem", "position": 1, "name": "홈", "item": "https://saju.gon.ai.kr/" },
                { "@type": "ListItem", "position": 2, "name": "손금 분석", "item": "https://saju.gon.ai.kr/palm/" }
            ]
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "손금은 어떤 손으로 보나요?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "일반적으로 왼손은 타고난 운명(선천운), 오른손은 노력으로 만든 운명(후천운)을 나타냅니다. 주로 사용하는 손(오른손잡이는 오른손)을 위주로 보되, 양손을 함께 비교하면 더 정확합니다."
                }
            },
            {
                "@type": "Question",
                "name": "손금의 4대 주요선은 무엇인가요?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "4대 주요선은 생명선(체력·수명), 감정선(사랑·감성), 두뇌선(지능·사고방식), 운명선(경력·성공)입니다. 이 네 가지 선의 길이, 깊이, 형태에 따라 다양한 해석이 가능합니다."
                }
            },
            {
                "@type": "Question",
                "name": "손금은 변하나요?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "네, 손금은 시간이 지남에 따라 변할 수 있습니다. 생활 습관, 건강 상태, 심리적 변화에 따라 손금의 깊이나 길이가 달라질 수 있어, 정기적으로 확인하면 변화를 추적할 수 있습니다."
                }
            }
        ]
    }
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700;900&family=Noto+Sans+KR:wght@300;400;500;700&family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/palm.css?v=1">

    <!-- Google AdSense Script -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7479840445702290"
         crossorigin="anonymous"></script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BNRL6FRMMM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-BNRL6FRMMM');
    </script>
</head>
<body>

    <!-- Header -->
    <header id="site-header">
        <nav class="container" style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.5rem;">
            <a href="/" class="logo-link" style="text-decoration: none;">
                <h1 style="font-family: var(--font-heading); font-size: var(--text-xl); margin: 0;">
                    <span class="gold-text">사주명리</span>
                </h1>
            </a>
            <nav class="nav-links">
                <a href="/">사주풀이</a>
                <a href="/zodiac/">띠별 운세</a>
                <a href="/daily/">오늘의 운세</a>
                <a href="/palm/" class="active">손금 분석</a>
            </nav>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="palm-hero">
        <div class="palm-hero-bg"></div>
        <div class="container palm-hero-content">
            <div class="palm-hero-badge">AI PALM READING</div>
            <h2 class="palm-hero-title">
                <span class="gold-text">AI 손금 분석</span>
            </h2>
            <p class="palm-hero-subtitle">손바닥 사진 한 장으로 읽는 당신의 운명</p>
            <p class="palm-hero-desc">동양 수상학의 지혜와 AI 기술이 만나, 4대 손금선의 비밀을 풀어드립니다</p>
        </div>
    </section>

    <!-- Upload Section -->
    <section class="palm-upload-section" id="upload-section">
        <div class="container">
            <div class="upload-card">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                            <path d="M32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8z" stroke="var(--color-gold)" stroke-width="1.5" fill="none" opacity="0.3"/>
                            <path d="M28 20h8l2 4h6a2 2 0 012 2v16a2 2 0 01-2 2H20a2 2 0 01-2-2V26a2 2 0 012-2h6l2-4z" stroke="var(--color-gold)" stroke-width="1.5" fill="none"/>
                            <circle cx="32" cy="33" r="6" stroke="var(--color-gold)" stroke-width="1.5" fill="none"/>
                        </svg>
                    </div>
                    <h3 class="upload-title">손바닥 사진을 올려주세요</h3>
                    <p class="upload-desc">사진을 드래그하거나 클릭하여 업로드</p>
                    <div class="upload-buttons">
                        <button class="upload-btn primary" id="btnUpload" type="button">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"/></svg>
                            사진 업로드
                        </button>
                        <button class="upload-btn secondary" id="btnCamera" type="button">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z"/><circle cx="12" cy="13" r="4"/></svg>
                            카메라 촬영
                        </button>
                    </div>
                    <input type="file" id="fileInput" accept="image/*" hidden>
                    <input type="file" id="cameraInput" accept="image/*" capture="environment" hidden>
                </div>

                <!-- 촬영 가이드 -->
                <div class="upload-guide">
                    <h4>촬영 가이드</h4>
                    <div class="guide-items">
                        <div class="guide-item">
                            <span class="guide-icon">💡</span>
                            <span>밝은 곳에서 촬영</span>
                        </div>
                        <div class="guide-item">
                            <span class="guide-icon">🤚</span>
                            <span>손바닥을 펴고 촬영</span>
                        </div>
                        <div class="guide-item">
                            <span class="guide-icon">📐</span>
                            <span>정면에서 가까이</span>
                        </div>
                        <div class="guide-item">
                            <span class="guide-icon">🔍</span>
                            <span>손금이 보이도록</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Preview + Canvas -->
            <div class="preview-container" id="previewContainer" style="display:none;">
                <div class="preview-card">
                    <div class="preview-image-wrapper">
                        <img id="previewImage" alt="업로드된 손바닥 사진">
                        <canvas id="overlayCanvas"></canvas>
                        <div class="line-legend" id="lineLegend" style="display:none;">
                            <div class="legend-item" data-line="heart"><span class="legend-color" style="background:#FF6B6B;"></span>감정선</div>
                            <div class="legend-item" data-line="head"><span class="legend-color" style="background:#4ECDC4;"></span>두뇌선</div>
                            <div class="legend-item" data-line="life"><span class="legend-color" style="background:#45B7D1;"></span>생명선</div>
                            <div class="legend-item" data-line="fate"><span class="legend-color" style="background:#DDA0DD;"></span>운명선</div>
                        </div>
                    </div>
                    <div class="preview-actions">
                        <button class="action-btn analyze" id="btnAnalyze" type="button">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
                            손금 분석 시작
                        </button>
                        <button class="action-btn reset" id="btnReset" type="button">다시 선택</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Loading Animation -->
    <section class="palm-loading" id="loadingSection" style="display:none;">
        <div class="container">
            <div class="loading-card">
                <div class="loading-orb">
                    <div class="orb-ring"></div>
                    <div class="orb-ring delay-1"></div>
                    <div class="orb-ring delay-2"></div>
                    <div class="orb-core">🔮</div>
                </div>
                <h3 class="loading-text">손금을 분석하고 있습니다</h3>
                <p class="loading-sub" id="loadingStatus">손바닥의 주요 선을 감지하는 중...</p>
                <div class="loading-bar">
                    <div class="loading-progress" id="loadingProgress"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Analysis Results -->
    <section class="palm-results" id="resultsSection" style="display:none;">
        <div class="container">

            <!-- Summary Card -->
            <div class="result-summary-card">
                <div class="summary-header">
                    <h3 class="gold-text">분석 결과</h3>
                    <div class="summary-badge" id="summaryBadge">종합 점수</div>
                </div>
                <div class="summary-score-ring">
                    <svg viewBox="0 0 120 120" class="score-svg">
                        <circle cx="60" cy="60" r="52" fill="none" stroke="var(--color-border)" stroke-width="6"/>
                        <circle cx="60" cy="60" r="52" fill="none" stroke="url(#goldGradient)" stroke-width="6" stroke-linecap="round" stroke-dasharray="327" stroke-dashoffset="327" id="scoreCircle" transform="rotate(-90 60 60)"/>
                        <defs>
                            <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="var(--color-gold-light)"/>
                                <stop offset="100%" stop-color="var(--color-gold)"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="score-text">
                        <span class="score-number" id="totalScore">0</span>
                        <span class="score-label">점</span>
                    </div>
                </div>
                <p class="summary-message" id="summaryMessage"></p>
            </div>

            <!-- 4 Main Lines -->
            <div class="lines-grid">
                <!-- 생명선 (Life Line) -->
                <div class="line-card" data-line="life">
                    <div class="line-card-header">
                        <div class="line-icon-circle life">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                        </div>
                        <div>
                            <h4 class="line-name">생명선</h4>
                            <span class="line-name-en">Life Line</span>
                        </div>
                        <div class="line-score" id="lifeScore">--</div>
                    </div>
                    <div class="line-bar-wrapper">
                        <div class="line-bar" id="lifeBar" style="width:0%"></div>
                    </div>
                    <div class="line-detail" id="lifeDetail">
                        <div class="detail-tags" id="lifeTags"></div>
                        <p class="detail-text" id="lifeText"></p>
                    </div>
                    <div class="line-extra" id="lifeExtra">
                        <h5>상세 해설</h5>
                        <div class="extra-content" id="lifeExtraContent"></div>
                    </div>
                </div>

                <!-- 감정선 (Heart Line) -->
                <div class="line-card" data-line="heart">
                    <div class="line-card-header">
                        <div class="line-icon-circle heart">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg>
                        </div>
                        <div>
                            <h4 class="line-name">감정선</h4>
                            <span class="line-name-en">Heart Line</span>
                        </div>
                        <div class="line-score" id="heartScore">--</div>
                    </div>
                    <div class="line-bar-wrapper">
                        <div class="line-bar heart" id="heartBar" style="width:0%"></div>
                    </div>
                    <div class="line-detail" id="heartDetail">
                        <div class="detail-tags" id="heartTags"></div>
                        <p class="detail-text" id="heartText"></p>
                    </div>
                    <div class="line-extra" id="heartExtra">
                        <h5>상세 해설</h5>
                        <div class="extra-content" id="heartExtraContent"></div>
                    </div>
                </div>

                <!-- 두뇌선 (Head Line) -->
                <div class="line-card" data-line="head">
                    <div class="line-card-header">
                        <div class="line-icon-circle head">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a7 7 0 017 7c0 2.38-1.19 4.47-3 5.74V17a2 2 0 01-2 2h-4a2 2 0 01-2-2v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 017-7z"/><path d="M9 21h6M10 17h4"/></svg>
                        </div>
                        <div>
                            <h4 class="line-name">두뇌선</h4>
                            <span class="line-name-en">Head Line</span>
                        </div>
                        <div class="line-score" id="headScore">--</div>
                    </div>
                    <div class="line-bar-wrapper">
                        <div class="line-bar head" id="headBar" style="width:0%"></div>
                    </div>
                    <div class="line-detail" id="headDetail">
                        <div class="detail-tags" id="headTags"></div>
                        <p class="detail-text" id="headText"></p>
                    </div>
                    <div class="line-extra" id="headExtra">
                        <h5>상세 해설</h5>
                        <div class="extra-content" id="headExtraContent"></div>
                    </div>
                </div>

                <!-- 운명선 (Fate Line) -->
                <div class="line-card" data-line="fate">
                    <div class="line-card-header">
                        <div class="line-icon-circle fate">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                        </div>
                        <div>
                            <h4 class="line-name">운명선</h4>
                            <span class="line-name-en">Fate Line</span>
                        </div>
                        <div class="line-score" id="fateScore">--</div>
                    </div>
                    <div class="line-bar-wrapper">
                        <div class="line-bar fate" id="fateBar" style="width:0%"></div>
                    </div>
                    <div class="line-detail" id="fateDetail">
                        <div class="detail-tags" id="fateTags"></div>
                        <p class="detail-text" id="fateText"></p>
                    </div>
                    <div class="line-extra" id="fateExtra">
                        <h5>상세 해설</h5>
                        <div class="extra-content" id="fateExtraContent"></div>
                    </div>
                </div>
            </div>

            <!-- Additional Features -->
            <div class="additional-section">
                <h3 class="section-title gold-text">부가 분석</h3>
                <div class="additional-grid">
                    <div class="additional-card" id="mountCard">
                        <div class="additional-icon">🏔️</div>
                        <h4>손바닥 구(丘)</h4>
                        <p id="mountText">목성구, 토성구, 태양구, 수성구, 금성구, 달의 구 등 손바닥의 볼록한 부분이 나타내는 의미를 분석합니다.</p>
                    </div>
                    <div class="additional-card" id="fingerCard">
                        <div class="additional-icon">✋</div>
                        <h4>손가락 비율</h4>
                        <p id="fingerText">각 손가락의 길이와 비율이 성격과 재능에 미치는 영향을 해석합니다.</p>
                    </div>
                    <div class="additional-card" id="specialCard">
                        <div class="additional-icon">✨</div>
                        <h4>특수 문양</h4>
                        <p id="specialText">별, 삼각형, 사각형, 십자가, 섬 등의 특수 문양이 갖는 의미를 분석합니다.</p>
                    </div>
                </div>
            </div>

            <!-- Share & Retry -->
            <div class="result-actions">
                <button class="action-btn analyze" id="btnRetry" type="button">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 4v6h6M23 20v-6h-6"/><path d="M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"/></svg>
                    다시 분석하기
                </button>
            </div>
        </div>
    </section>

    <!-- Palm Reading Guide (SEO Content) -->
    <section class="palm-guide">
        <div class="container">
            <h2 class="section-title gold-text">손금 보는 법 완벽 가이드</h2>
            <p class="section-subtitle">수천 년의 역사를 가진 수상학(手相學)의 핵심을 알아보세요</p>

            <div class="guide-grid">
                <div class="guide-card">
                    <div class="guide-card-icon">🔴</div>
                    <h3>생명선 (Life Line)</h3>
                    <p>엄지와 검지 사이에서 시작하여 손목 방향으로 내려가는 선입니다. 체력, 활력, 전반적인 건강 상태를 나타냅니다.</p>
                    <ul class="guide-list">
                        <li><strong>길고 깊은 선</strong> — 강한 체력과 활력이 넘치는 삶</li>
                        <li><strong>짧고 얕은 선</strong> — 다른 사람의 지배를 받기 쉬운 성향</li>
                        <li><strong>곡선이 큰 선</strong> — 에너지가 풍부하고 열정적</li>
                        <li><strong>직선에 가까운 선</strong> — 신중하고 조심스러운 성격</li>
                        <li><strong>끊어진 선</strong> — 생활의 큰 변화나 건강 이슈</li>
                    </ul>
                </div>

                <div class="guide-card">
                    <div class="guide-card-icon">❤️</div>
                    <h3>감정선 (Heart Line)</h3>
                    <p>새끼손가락 아래에서 시작하여 검지 방향으로 이어지는 선입니다. 감정 표현, 연애 성향, 대인관계를 보여줍니다.</p>
                    <ul class="guide-list">
                        <li><strong>검지까지 닿는 선</strong> — 이상주의적 사랑관</li>
                        <li><strong>중지까지 닿는 선</strong> — 자기중심적 사랑</li>
                        <li><strong>곧고 짧은 선</strong> — 실용적이고 이성적인 성향</li>
                        <li><strong>구불구불한 선</strong> — 감정 기복이 있으나 풍부한 감성</li>
                        <li><strong>두뇌선과 만나는 선</strong> — 논리와 감정의 조화</li>
                    </ul>
                </div>

                <div class="guide-card">
                    <div class="guide-card-icon">🧠</div>
                    <h3>두뇌선 (Head Line)</h3>
                    <p>검지 아래에서 시작하여 손바닥을 가로지르는 선입니다. 지적 능력, 사고방식, 의사결정 스타일을 반영합니다.</p>
                    <ul class="guide-list">
                        <li><strong>긴 직선</strong> — 논리적이고 분석적인 사고</li>
                        <li><strong>아래로 휘어지는 선</strong> — 창의적이고 예술적 감각</li>
                        <li><strong>짧은 선</strong> — 직관적이고 빠른 판단력</li>
                        <li><strong>깊고 선명한 선</strong> — 집중력이 뛰어나고 기억력 우수</li>
                        <li><strong>갈라지는 선 (작가의 포크)</strong> — 상상력과 논리 모두 뛰어남</li>
                    </ul>
                </div>

                <div class="guide-card">
                    <div class="guide-card-icon">⭐</div>
                    <h3>운명선 (Fate Line)</h3>
                    <p>손바닥 중앙을 세로로 관통하는 선입니다. 인생의 방향, 직업운, 사회적 성취를 나타냅니다.</p>
                    <ul class="guide-list">
                        <li><strong>깊고 뚜렷한 선</strong> — 강한 의지와 목표 지향적 삶</li>
                        <li><strong>생명선에서 시작</strong> — 자수성가형, 스스로 길을 개척</li>
                        <li><strong>손목에서 시작</strong> — 어릴 때부터 진로가 뚜렷</li>
                        <li><strong>중간에 끊어짐</strong> — 직업이나 인생 방향의 전환</li>
                        <li><strong>운명선이 없는 경우</strong> — 자유로운 삶, 틀에 얽매이지 않음</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Special Signs Section -->
    <section class="palm-signs">
        <div class="container">
            <h2 class="section-title gold-text">손금의 특수 기호</h2>
            <div class="signs-grid">
                <div class="sign-item">
                    <div class="sign-symbol">☆</div>
                    <h4>별 (Star)</h4>
                    <p>행운과 성공의 상징. 위치에 따라 다양한 행운을 나타냅니다.</p>
                </div>
                <div class="sign-item">
                    <div class="sign-symbol">△</div>
                    <h4>삼각형 (Triangle)</h4>
                    <p>지적 능력과 학문적 성취. 특히 두뇌선 위에 있으면 학자 기질.</p>
                </div>
                <div class="sign-item">
                    <div class="sign-symbol">□</div>
                    <h4>사각형 (Square)</h4>
                    <p>보호의 의미. 선이 끊어진 곳에 있으면 위기를 극복하는 힘.</p>
                </div>
                <div class="sign-item">
                    <div class="sign-symbol">✕</div>
                    <h4>십자가 (Cross)</h4>
                    <p>시련과 변화. 위치에 따라 정신적 성장이나 큰 결정을 의미.</p>
                </div>
                <div class="sign-item">
                    <div class="sign-symbol">◯</div>
                    <h4>섬 (Island)</h4>
                    <p>에너지 분산이나 스트레스. 선 위에 있으면 해당 영역의 약화.</p>
                </div>
                <div class="sign-item">
                    <div class="sign-symbol">⑃</div>
                    <h4>갈래 (Fork)</h4>
                    <p>선택과 다양성. 선 끝에 있으면 풍부한 경험과 다재다능함.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="palm-cta">
        <div class="container">
            <h2 class="gold-text">더 깊은 운명 분석이 궁금하다면</h2>
            <p>사주팔자로 당신의 타고난 운명을 풀어보세요</p>
            <div class="cta-links">
                <a href="/" class="cta-link primary">사주풀이 바로가기 →</a>
                <a href="/zodiac/" class="cta-link">2026년 띠별 운세 →</a>
                <a href="/daily/" class="cta-link">오늘의 운세 →</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="palm-footer">
        <div class="container">
            <p>© 2026 사주명리 — AI 손금 분석은 재미와 참고용이며, 의학적·법적 근거가 아닙니다.</p>
            <p class="footer-links">
                <a href="/">사주풀이</a> · <a href="/zodiac/">띠별 운세</a> · <a href="/daily/">오늘의 운세</a> · <a href="/palm/">손금 분석</a>
            </p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
    (function() {
        'use strict';

        // ===== DOM Elements =====
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const cameraInput = document.getElementById('cameraInput');
        const btnUpload = document.getElementById('btnUpload');
        const btnCamera = document.getElementById('btnCamera');
        const btnAnalyze = document.getElementById('btnAnalyze');
        const btnReset = document.getElementById('btnReset');
        const btnRetry = document.getElementById('btnRetry');
        const previewContainer = document.getElementById('previewContainer');
        const previewImage = document.getElementById('previewImage');
        const overlayCanvas = document.getElementById('overlayCanvas');
        const loadingSection = document.getElementById('loadingSection');
        const resultsSection = document.getElementById('resultsSection');
        const uploadSection = document.getElementById('upload-section');
        const lineLegend = document.getElementById('lineLegend');

        // ===== Palm Line Data =====
        const palmData = {
            life: {
                types: [
                    { name: '길고 깊은 생명선', score: 92, tags: ['강한 체력', '활력 충만', '장수'], text: '매우 강한 생명력을 가지고 있습니다. 체력이 뛰어나고 질병에 대한 저항력이 높으며, 활기찬 삶을 영위할 수 있는 타고난 건강 체질입니다.', extra: '생명선이 길고 깊다는 것은 기초 체력이 튼튼하다는 의미입니다. 활동적인 라이프스타일을 유지하면 더 큰 활력을 얻을 수 있으며, 노후에도 건강한 상태를 유지할 가능성이 높습니다. 규칙적인 운동과 균형 잡힌 식습관이 이 좋은 기운을 더욱 강화해 줄 것입니다.' },
                    { name: '곡선이 큰 생명선', score: 87, tags: ['열정적', '에너지 충만', '적극적'], text: '넘치는 에너지와 열정의 소유자입니다. 새로운 경험에 대한 호기심이 강하고, 적극적으로 인생을 개척해 나가는 타입입니다.', extra: '크게 휘어진 생명선은 감정적으로 풍부하고 인생을 능동적으로 살아가는 사람에게 많이 보입니다. 다양한 경험을 쌓으면서 더 풍요로운 삶을 만들어 가실 수 있습니다. 특히 야외 활동이나 여행이 에너지 충전에 큰 도움이 됩니다.' },
                    { name: '직선형 생명선', score: 78, tags: ['신중함', '조심성', '계획적'], text: '신중하고 계획적인 성격의 소유자입니다. 모험보다는 안정을 추구하며, 꼼꼼하게 계획을 세워 실행하는 스타일입니다.', extra: '직선에 가까운 생명선은 이성적이고 논리적인 판단력을 의미합니다. 체력 관리에 있어서도 체계적인 접근이 효과적입니다. 스트레스 관리에 특히 신경 쓰면 건강한 삶을 오래 유지할 수 있습니다.' },
                    { name: '짧지만 선명한 생명선', score: 72, tags: ['집중력', '순간 에너지', '도전적'], text: '짧은 생명선은 수명과 무관합니다. 오히려 순간적인 집중력과 폭발적인 에너지를 보여주는 사람에게 많이 나타납니다.', extra: '생명선의 길이는 수명과 직접적 관련이 없습니다. 짧고 선명한 생명선은 효율적인 에너지 사용을 의미하며, 중요한 순간에 강한 집중력을 발휘합니다. 평소 충분한 휴식을 취하고 에너지를 비축해 두는 것이 좋습니다.' },
                    { name: '갈라지는 생명선', score: 80, tags: ['변화 많음', '적응력', '다양한 경험'], text: '인생에서 큰 변화나 전환점을 경험할 수 있습니다. 하지만 이는 성장의 기회이며, 뛰어난 적응력으로 잘 극복해 나갈 수 있습니다.', extra: '생명선의 갈래는 인생의 터닝포인트를 의미합니다. 이러한 변화는 대개 긍정적인 방향으로 이어지며, 새로운 환경에서의 적응 능력이 탁월합니다. 변화를 두려워하지 말고 새로운 도전의 기회로 삼으세요.' }
                ]
            },
            heart: {
                types: [
                    { name: '길고 곡선인 감정선', score: 90, tags: ['풍부한 감성', '로맨틱', '배려심'], text: '감성이 풍부하고 로맨틱한 성향입니다. 타인에 대한 공감 능력이 뛰어나며, 깊고 의미 있는 관계를 형성합니다.', extra: '길고 곡선인 감정선은 사랑과 우정에서 깊은 유대를 형성하는 사람에게 나타납니다. 감정 표현에 솔직하고, 주변 사람들에게 따뜻한 에너지를 전달합니다. 때로는 감정에 너무 몰입하는 경향이 있으니, 자신의 감정도 잘 돌봐주세요.' },
                    { name: '직선형 감정선', score: 82, tags: ['이성적', '실용적', '안정적'], text: '감정을 이성적으로 다루는 타입입니다. 관계에서 안정감을 중시하며, 현실적이고 실용적인 사랑을 추구합니다.', extra: '직선형 감정선은 감정에 휩쓸리지 않는 냉정한 판단력을 의미합니다. 파트너십에서 신뢰와 존중을 가장 중요시하며, 장기적으로 안정적인 관계를 유지하는 데 강점이 있습니다.' },
                    { name: '검지까지 닿는 감정선', score: 88, tags: ['이상주의', '순수한 사랑', '헌신적'], text: '이상적인 사랑을 추구하는 낭만주의자입니다. 순수하고 헌신적인 사랑을 하며, 파트너에게 최선을 다합니다.', extra: '검지(목성지)까지 닿는 감정선은 높은 이상과 기준을 가진 사람에게 나타납니다. 사랑에 있어 진정성을 중시하며, 한번 마음을 주면 끝까지 지키려는 성향입니다. 다만, 너무 높은 기대는 때로 실망으로 이어질 수 있으니 현실과의 균형도 중요합니다.' },
                    { name: '짧은 감정선', score: 75, tags: ['독립적', '자유로운', '개인주의'], text: '독립적이고 자유로운 영혼입니다. 개인의 자유를 중시하며, 구속 받지 않는 관계를 선호합니다.', extra: '짧은 감정선은 자기만의 시간과 공간을 소중히 여기는 사람에게 많이 나타납니다. 깊은 감정보다는 가벼운 교류를 선호할 수 있으며, 지나친 의존 관계를 경계합니다. 자신만의 취미와 활동을 유지하면서 관계의 질을 높이세요.' },
                    { name: '구불구불한 감정선', score: 83, tags: ['감정 풍부', '다양한 연애', '예술적'], text: '감정의 깊이가 있고 다양한 연애 경험을 할 수 있습니다. 예술적 감각이 뛰어나며, 감정 표현에 재능이 있습니다.', extra: '물결 모양의 감정선은 감정의 폭이 넓고 다양한 경험을 쌓는 타입에게 나타납니다. 연애에서도 다채로운 스토리를 만들어가며, 이 경험들이 인생의 깊이를 더해줍니다. 예술이나 창작 활동에서 큰 영감을 얻을 수 있습니다.' }
                ]
            },
            head: {
                types: [
                    { name: '길고 직선인 두뇌선', score: 91, tags: ['논리적', '분석적', '학자형'], text: '뛰어난 논리력과 분석력의 소유자입니다. 복잡한 문제를 체계적으로 해결하며, 학문이나 연구 분야에서 큰 성과를 거둘 수 있습니다.', extra: '길고 직선인 두뇌선은 뛰어난 집중력과 논리적 사고력을 의미합니다. 과학, 수학, 법학 등의 분야에서 탁월한 능력을 발휘할 수 있습니다. 다만, 때로는 직관이나 감성에도 귀를 기울이면 더 균형 잡힌 판단을 할 수 있습니다.' },
                    { name: '아래로 휘어진 두뇌선', score: 86, tags: ['창의적', '예술적', '상상력'], text: '풍부한 상상력과 창의력을 가지고 있습니다. 예술, 문학, 디자인 등 창작 분야에서 독보적인 재능을 발휘할 수 있습니다.', extra: '달의 구(Mount of Moon) 방향으로 휘어진 두뇌선은 강한 상상력과 창조적 사고를 나타냅니다. 현실에서 벗어난 독창적인 아이디어를 만들어 낼 수 있으며, 예술이나 창작 분야에서 성공할 가능성이 높습니다.' },
                    { name: '짧은 두뇌선', score: 77, tags: ['직관적', '실행력', '결단력'], text: '직관적이고 빠른 판단력을 가졌습니다. 오래 고민하기보다 즉각적으로 행동하며, 실행력이 뛰어납니다.', extra: '짧은 두뇌선은 결코 지능이 낮다는 의미가 아닙니다. 오히려 핵심을 빠르게 파악하고 즉시 실행하는 능력을 나타냅니다. 비즈니스나 스포츠 등 빠른 판단이 필요한 분야에서 강점을 보입니다.' },
                    { name: '갈래가 있는 두뇌선', score: 89, tags: ['다재다능', '작가의 포크', '균형'], text: '논리와 창의성을 동시에 갖춘 다재다능한 두뇌의 소유자입니다. "작가의 포크"라 불리는 이 형태는 문필 활동에 재능이 있음을 나타냅니다.', extra: '두뇌선 끝이 갈라지는 형태를 "작가의 포크(Writer\'s Fork)"라 합니다. 이성과 감성을 모두 활용할 수 있어, 글쓰기, 강연, 교육 등의 분야에서 큰 재능을 발휘합니다. 다양한 관점에서 사물을 볼 수 있는 능력이 있습니다.' },
                    { name: '깊고 선명한 두뇌선', score: 85, tags: ['집중력', '기억력', '전문성'], text: '강한 집중력과 뛰어난 기억력의 소유자입니다. 한 분야에 깊이 파고드는 전문가 기질이 있으며, 꼼꼼하고 정확합니다.', extra: '깊고 선명한 두뇌선은 정신적 에너지가 풍부하고 강한 의지력을 나타냅니다. 학습 능력이 뛰어나 어떤 분야든 깊이 있게 마스터할 수 있습니다. 꾸준한 학습과 자기 개발이 이 잠재력을 최대한 발휘하게 해줄 것입니다.' }
                ]
            },
            fate: {
                types: [
                    { name: '뚜렷하고 긴 운명선', score: 93, tags: ['목표 지향', '성공운', '리더십'], text: '강한 목표 의식과 리더십을 갖추고 있습니다. 인생의 방향이 뚜렷하며, 꾸준한 노력으로 큰 성취를 이룰 수 있습니다.', extra: '손목에서 중지까지 뚜렷하게 이어지는 운명선은 매우 강한 의지와 목표 의식을 나타냅니다. 사회적으로 큰 성공을 거둘 수 있으며, 리더의 위치에 자연스럽게 올라설 수 있습니다. 자신의 비전을 믿고 꾸준히 나아가세요.' },
                    { name: '생명선에서 시작하는 운명선', score: 86, tags: ['자수성가', '노력형', '독립적'], text: '스스로의 힘으로 성공을 이루는 자수성가형입니다. 초기에 어려움이 있더라도 끈기와 노력으로 반드시 목표를 달성합니다.', extra: '생명선에서 갈라져 나오는 운명선은 가족이나 환경의 도움보다는 자신의 힘으로 길을 개척하는 사람에게 나타납니다. 늦게 시작하더라도 차근차근 쌓아 올린 성공은 더욱 견고합니다.' },
                    { name: '중간에 시작하는 운명선', score: 80, tags: ['전환점', '늦깎이 성공', '성장형'], text: '인생의 중반부터 본격적인 성장이 시작됩니다. 30대 이후 큰 전환점을 맞이하며, 점점 더 나은 방향으로 발전합니다.', extra: '손바닥 중간에서 시작하는 운명선은 인생 후반부에 더 큰 성공을 거두는 타입입니다. 젊은 시절의 경험이 모두 밑거름이 되어, 때가 되면 빛을 발합니다. 인내심을 가지고 꾸준히 준비하세요.' },
                    { name: '끊어졌다 이어지는 운명선', score: 76, tags: ['직업 변화', '전환기', '다양한 경험'], text: '인생에서 직업이나 진로의 큰 변화를 경험합니다. 이러한 변화는 더 나은 기회로 이어지며, 다양한 경험이 강점이 됩니다.', extra: '운명선의 끊어짐은 인생의 전환점을 나타냅니다. 이직, 창업, 새로운 분야 도전 등의 변화를 통해 최종적으로 더 큰 성공에 도달합니다. 변화를 두려워하지 마세요.' },
                    { name: '희미한 운명선', score: 74, tags: ['자유로운 삶', '유연한', '다재다능'], text: '특정 길에 얽매이지 않는 자유로운 영혼입니다. 다양한 분야에 관심이 있으며, 유연하게 인생을 설계해 나갑니다.', extra: '희미한 운명선은 결코 부정적인 의미가 아닙니다. 오히려 하나의 길에 국한되지 않고 다양한 가능성을 탐색하는 열린 마인드를 나타냅니다. 프리랜서, 예술가, 다중 경력자에게 많이 보이는 형태입니다.' }
                ]
            }
        };

        const summaryMessages = [
            { min: 90, text: '탁월한 손금입니다! 타고난 운과 재능이 조화를 이루고 있습니다. 자신감을 가지고 앞으로 나아가세요.' },
            { min: 80, text: '매우 좋은 손금입니다. 균형 잡힌 기운이 삶의 여러 영역에서 긍정적인 영향을 줍니다.' },
            { min: 70, text: '좋은 손금입니다. 몇 가지 영역에서 특별한 강점이 보이며, 이를 잘 활용하면 큰 성과를 거둘 수 있습니다.' },
            { min: 60, text: '안정적인 손금입니다. 꾸준한 노력이 좋은 결과로 이어질 기운을 가지고 있습니다.' },
            { min: 0, text: '잠재력이 큰 손금입니다. 아직 꽃피우지 못한 재능이 많으니, 자신을 믿고 도전하세요.' }
        ];

        // ===== Image Handling =====
        let currentImageData = null;

        btnUpload.addEventListener('click', () => fileInput.click());
        btnCamera.addEventListener('click', () => cameraInput.click());

        fileInput.addEventListener('change', handleFileSelect);
        cameraInput.addEventListener('change', handleFileSelect);

        // Drag & Drop
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        });
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('drag-over');
        });
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
            if (e.dataTransfer.files.length > 0) {
                handleFile(e.dataTransfer.files[0]);
            }
        });

        function handleFileSelect(e) {
            if (e.target.files.length > 0) {
                handleFile(e.target.files[0]);
            }
        }

        function handleFile(file) {
            if (!file.type.startsWith('image/')) {
                alert('이미지 파일만 업로드할 수 있습니다.');
                return;
            }
            const reader = new FileReader();
            reader.onload = (e) => {
                currentImageData = e.target.result;
                previewImage.src = currentImageData;
                previewImage.onload = () => {
                    setupCanvas();
                    showSection('preview');
                };
            };
            reader.readAsDataURL(file);
        }

        function setupCanvas() {
            const img = previewImage;
            const wrapper = img.parentElement;
            overlayCanvas.width = img.naturalWidth;
            overlayCanvas.height = img.naturalHeight;
            overlayCanvas.style.width = '100%';
            overlayCanvas.style.height = '100%';
        }

        // ===== Section Navigation =====
        function showSection(section) {
            uploadSection.style.display = section === 'upload' ? 'block' : 'none';
            previewContainer.style.display = section === 'preview' ? 'block' : 'none';
            loadingSection.style.display = section === 'loading' ? 'block' : 'none';
            resultsSection.style.display = section === 'results' ? 'block' : 'none';
        }

        // ===== Analysis =====
        btnAnalyze.addEventListener('click', startAnalysis);
        btnReset.addEventListener('click', () => {
            currentImageData = null;
            fileInput.value = '';
            cameraInput.value = '';
            lineLegend.style.display = 'none';
            showSection('upload');
        });
        btnRetry.addEventListener('click', () => {
            currentImageData = null;
            fileInput.value = '';
            cameraInput.value = '';
            lineLegend.style.display = 'none';
            showSection('upload');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        function startAnalysis() {
            showSection('loading');
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Simulated analysis stages
            const stages = [
                { text: '손바닥 영역을 감지하는 중...', pct: 15 },
                { text: '주요 손금선을 추출하는 중...', pct: 35 },
                { text: '생명선 분석 중...', pct: 50 },
                { text: '감정선 분석 중...', pct: 65 },
                { text: '두뇌선·운명선 분석 중...', pct: 80 },
                { text: '종합 해석을 생성하는 중...', pct: 95 },
            ];

            let i = 0;
            const loadingProgress = document.getElementById('loadingProgress');
            const loadingStatus = document.getElementById('loadingStatus');

            function nextStage() {
                if (i < stages.length) {
                    loadingStatus.textContent = stages[i].text;
                    loadingProgress.style.width = stages[i].pct + '%';
                    i++;
                    setTimeout(nextStage, 600 + Math.random() * 400);
                } else {
                    loadingProgress.style.width = '100%';
                    setTimeout(() => {
                        generateResults();
                        drawOverlay();
                        showSection('results');
                        animateResults();
                    }, 400);
                }
            }
            nextStage();
        }

        // ===== Generate Results =====
        function seededRandom(seed) {
            let s = seed;
            return function() {
                s = (s * 16807 + 0) % 2147483647;
                return (s - 1) / 2147483646;
            };
        }

        function generateResults() {
            // Create seed from image data
            let seed = 0;
            if (currentImageData) {
                for (let i = 0; i < Math.min(currentImageData.length, 200); i++) {
                    seed = ((seed << 5) - seed + currentImageData.charCodeAt(i)) | 0;
                }
            }
            seed = Math.abs(seed);
            const rng = seededRandom(seed);

            const lines = ['life', 'heart', 'head', 'fate'];
            let totalScore = 0;

            lines.forEach(line => {
                const types = palmData[line].types;
                const chosen = types[Math.floor(rng() * types.length)];

                // Score with slight randomization
                const score = Math.max(60, Math.min(98, chosen.score + Math.floor((rng() - 0.5) * 10)));
                totalScore += score;

                document.getElementById(line + 'Score').textContent = score;
                document.getElementById(line + 'Bar').style.width = score + '%';
                document.getElementById(line + 'Tags').innerHTML = chosen.tags.map(t => `<span class="tag">${t}</span>`).join('');
                document.getElementById(line + 'Text').textContent = chosen.text;
                document.getElementById(line + 'ExtraContent').textContent = chosen.extra;
            });

            // Total score
            const avg = Math.round(totalScore / 4);
            document.getElementById('totalScore').textContent = avg;

            // Score circle animation
            const circle = document.getElementById('scoreCircle');
            const circumference = 2 * Math.PI * 52;
            const offset = circumference - (circumference * avg / 100);
            setTimeout(() => {
                circle.style.transition = 'stroke-dashoffset 1.5s ease-out';
                circle.style.strokeDashoffset = offset;
            }, 300);

            // Summary message
            const msg = summaryMessages.find(m => avg >= m.min);
            document.getElementById('summaryMessage').textContent = msg ? msg.text : '';
            document.getElementById('summaryBadge').textContent = `종합 ${avg}점`;

            // Additional analysis (seeded)
            const mounts = ['목성구(리더십)가 발달', '금성구(매력)가 풍부', '태양구(예술성)가 두드러짐', '수성구(소통력)가 강함', '달의 구(직관력)가 발달'];
            const fingers = ['검지가 긴 편으로 리더십 기질', '약지가 긴 편으로 예술적 감각', '중지가 균형 잡혀 책임감 강함', '새끼손가락이 긴 편으로 소통 능력 탁월'];
            const specials = ['별 문양이 감지되어 행운의 기운', '삼각형 문양이 있어 학문적 성취', '보호의 사각형이 있어 위기 극복력', '갈래 문양으로 다재다능한 기질'];

            document.getElementById('mountText').textContent = mounts[Math.floor(rng() * mounts.length)] + '하여, 해당 영역에서 강한 기운이 작용하고 있습니다.';
            document.getElementById('fingerText').textContent = fingers[Math.floor(rng() * fingers.length)] + '이 돋보입니다. 이 특성을 잘 활용해 보세요.';
            document.getElementById('specialText').textContent = specials[Math.floor(rng() * specials.length)] + '이 발견됩니다.';
        }

        // ===== Draw Palm Line Overlay =====
        function drawOverlay() {
            const ctx = overlayCanvas.getContext('2d');
            const w = overlayCanvas.width;
            const h = overlayCanvas.height;
            ctx.clearRect(0, 0, w, h);

            // Semi-transparent overlay
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.fillRect(0, 0, w, h);

            const lines = [
                { name: 'heart', color: '#FF6B6B', shadow: 'rgba(255, 107, 107, 0.6)', points: getHeartLinePoints(w, h) },
                { name: 'head', color: '#4ECDC4', shadow: 'rgba(78, 205, 196, 0.6)', points: getHeadLinePoints(w, h) },
                { name: 'life', color: '#45B7D1', shadow: 'rgba(69, 183, 209, 0.6)', points: getLifeLinePoints(w, h) },
                { name: 'fate', color: '#DDA0DD', shadow: 'rgba(221, 160, 221, 0.6)', points: getFateLinePoints(w, h) },
            ];

            lines.forEach(line => {
                // Glow effect
                ctx.save();
                ctx.shadowColor = line.shadow;
                ctx.shadowBlur = 12;
                ctx.strokeStyle = line.color;
                ctx.lineWidth = Math.max(2, w * 0.004);
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.beginPath();
                drawSmoothCurve(ctx, line.points);
                ctx.stroke();
                ctx.restore();

                // Main line
                ctx.strokeStyle = line.color;
                ctx.lineWidth = Math.max(2, w * 0.003);
                ctx.lineCap = 'round';
                ctx.beginPath();
                drawSmoothCurve(ctx, line.points);
                ctx.stroke();

                // Label
                const labelPt = line.points[Math.floor(line.points.length * 0.3)];
                if (labelPt) {
                    ctx.font = `bold ${Math.max(12, w * 0.025)}px "Noto Sans KR", sans-serif`;
                    ctx.fillStyle = line.color;
                    ctx.shadowColor = 'rgba(0,0,0,0.7)';
                    ctx.shadowBlur = 4;
                    ctx.fillText(getLineName(line.name), labelPt.x + 10, labelPt.y - 10);
                    ctx.shadowBlur = 0;
                }
            });

            lineLegend.style.display = 'flex';

            // Also show preview with overlay
            previewContainer.style.display = 'block';
            previewContainer.style.marginBottom = '2rem';
        }

        function getLineName(key) {
            const names = { heart: '감정선', head: '두뇌선', life: '생명선', fate: '운명선' };
            return names[key] || key;
        }

        // Approximate palm line positions (relative to image dimensions)
        function getHeartLinePoints(w, h) {
            const pts = [];
            const startX = w * 0.15, startY = h * 0.30;
            const endX = w * 0.85, endY = h * 0.28;
            for (let t = 0; t <= 1; t += 0.05) {
                const x = startX + (endX - startX) * t;
                const y = startY + Math.sin(t * Math.PI) * h * -0.04 + (endY - startY) * t;
                pts.push({ x, y });
            }
            return pts;
        }

        function getHeadLinePoints(w, h) {
            const pts = [];
            const startX = w * 0.18, startY = h * 0.42;
            const endX = w * 0.78, endY = h * 0.46;
            for (let t = 0; t <= 1; t += 0.05) {
                const x = startX + (endX - startX) * t;
                const y = startY + Math.sin(t * Math.PI * 0.8) * h * 0.03 + (endY - startY) * t;
                pts.push({ x, y });
            }
            return pts;
        }

        function getLifeLinePoints(w, h) {
            const pts = [];
            const startX = w * 0.28, startY = h * 0.25;
            for (let t = 0; t <= 1; t += 0.04) {
                const angle = -Math.PI * 0.5 + t * Math.PI * 0.8;
                const radius = h * 0.28 * (1 - t * 0.2);
                const cx = w * 0.32, cy = h * 0.50;
                const x = cx + Math.cos(angle) * radius * 0.6;
                const y = cy + Math.sin(angle) * radius;
                pts.push({ x, y });
            }
            return pts;
        }

        function getFateLinePoints(w, h) {
            const pts = [];
            const startX = w * 0.48, startY = h * 0.82;
            const endX = w * 0.46, endY = h * 0.22;
            for (let t = 0; t <= 1; t += 0.05) {
                const x = startX + (endX - startX) * t + Math.sin(t * Math.PI * 2) * w * 0.01;
                const y = startY + (endY - startY) * t;
                pts.push({ x, y });
            }
            return pts;
        }

        function drawSmoothCurve(ctx, points) {
            if (points.length < 2) return;
            ctx.moveTo(points[0].x, points[0].y);
            for (let i = 1; i < points.length - 1; i++) {
                const xc = (points[i].x + points[i + 1].x) / 2;
                const yc = (points[i].y + points[i + 1].y) / 2;
                ctx.quadraticCurveTo(points[i].x, points[i].y, xc, yc);
            }
            const last = points[points.length - 1];
            ctx.lineTo(last.x, last.y);
        }

        // ===== Animate Results =====
        function animateResults() {
            const cards = resultsSection.querySelectorAll('.line-card, .result-summary-card, .additional-card');
            cards.forEach((card, i) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, i * 120);
            });

            // Animate score bars
            setTimeout(() => {
                ['life', 'heart', 'head', 'fate'].forEach(line => {
                    const bar = document.getElementById(line + 'Bar');
                    const target = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.transition = 'width 1s ease-out';
                        bar.style.width = target;
                    }, 100);
                });
            }, 400);
        }

        // ===== Line card expand/collapse =====
        document.querySelectorAll('.line-card').forEach(card => {
            card.addEventListener('click', function(e) {
                if (e.target.closest('.line-extra')) return;
                this.classList.toggle('expanded');
            });
        });

        // ===== Scroll Animations =====
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.guide-card, .sign-item, .additional-card').forEach(el => {
            observer.observe(el);
        });

    })();
    </script>

</body>
</html>
